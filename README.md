#﻿[HPMORRU](https://github.com/kaat/hpmorru/)

HPMOR RU command files


## Правила пользования лифтом

Чтобы помочь помочь переводу - не обязательно уметь обращаться с `git`, даже не обязательно знать, что он существует.
Ваши идеи по творческому использованию данного репозитория мы обсуждаем [на форуме](http://lesswrong.ru/forum/index.php/topic,67.0.html).

- Если вы хотите **присоединиться к переводу**, то:
	+ данный репозиторий вам не поможет, весь перевод как вёлся, так и ведётся на платформе Google Docs
	+ пишите на <hp@hpmor.ru> - мы с радостью вас подключим к процессу
- Если вы **нашли ошибки** в орфографии / пунктуации / переводе, то:
	+ скачиваете себе главу в текстовом виде с сайта http://hpmor.ru/.
	+ в любом текстовом редакторе исправляете всё, что хотите исправить, и присылаете получившийся файл на <hp@hpmor.ru> с пометкой - *правка*, мы внесем ваши изменения в исходники на Google Docs. Также можно внести исправления в отдельный фрагмент и прислать только его, например, в абзац или часть диалога.
	+ не забываем про [специальную тему](http://lesswrong.ru/forum/index.php/topic,9.0.html) на нашем форуме - там всё то же самое вы сможете проделать в виде поста на форум.
- Файлы в папке `./export` выложены с демонстрационными целями, как результат того, что на выходе дают имеющиеся тут командные файлы. **Не надо** присылать пул ревесты на файлы, выложенные в `./export`


## Скрипты

Написаны на **bat-posh** и исполняются в Windows XP/Vista/7 - из коробки.

- `images` - статические ресурсы
- `parts_include` - общие статические главы (вступление, заключение и т.д.)
- `parts_include_pandoc` - статические главы - специфичные для [pandoc][l_pandoc]
- `parts_include_calibre` - статические главы - специфичные для [calibre][l_calibre]
- `export` - эл. книги в различных форматах, полученные с помощью скриптов
- `00-masterpiece-run.bat`
- `book-docx-to-parts.bat` - превращает главы из `./docx` в главы `./parts`
- `book-join-parts.bat` - соединяет главы в книгу `md`
- `book-export-pandoc.bat` - экспортирует книгу `./hpmor_ru_pandoc.md` из формата *markdown* в epub/fb2/html/docx средствами [pandoc][l_pandoc]
- `book-parts-to-feed.bat`
- `DocConvert.exe`, `DocumentFormat.OpenXml.dll`
- `book-parts-check.bat`


## Dataflow процесса сборки

![Процесс сборки](/images/process.png)

## RoadMap

- **Конвертор docx->md**
	- конвертация текста, выровненного вправо / по-центру
	- конвертация гиперссылок *@bug*
	- корректная конвертация таблиц *@option*
- **Общий стиль**
	- эпиграфы
- **Сайт [hpmor.ru](http://hpmor.ru/)**
	- скрипты загрузки данных по SSH

## Task Archive
- формировать файл hpmor_ru_pd.md из hpmor_ru.md добавлением к нему 0 заглавие.md, и этот файл использовать для pandoc *@done(2013-11-27)*

 [l_pandoc]: http://johnmacfarlane.net/pandoc/
 [l_calibre]: http://calibre-ebook.com/
