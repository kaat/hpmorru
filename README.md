#﻿[HPMORRU](https://github.com/kaat/hpmorru/)

HPMOR RU command files

## Правила пользования лифтом

Чтобы помочь помочь переводу - не обязательно уметь обращаться с `git`, даже не обязательно знать, что он существует.


- Если вы хотите **присоединиться к переводу**, то:
	+ данный репозиторий вам не поможет, весь перевод как вёлся, так и ведётся на платформе Google Docs
	+ пишите на <hp@hpmor.ru> - мы с радостью вас подключим к процессу
- Если вы **нашли ошибки** в орфографии / пунктуации / переводе, то:
	+ скачиваете себе главу в формате `md` из папки `./parts`
	+ в любом текстовом редакторе исправляете всё, что хотите исправить, и присылаете получившийся файл на <hp@hpmor.ru> с пометкой - *правка*, мы внесем ваши изменения в исходники на Google Docs
	+ не забываем про [специальную тему](http://lesswrong.ru/forum/index.php/topic,9.0.html) на нашем форуме - там всё то же самое вы сможете проделать в виде поста на форум.
- Если вы знакомы с `git` - присылайте пул-ревестыы на отдельные главы из `./parts` - мы их вмержим в GoogleDocs.
- Файлы в папке `./export` выложены с демонстрационными целями, как результат того, что на выходе дают имеющиеся тут командные файлы. **Не надо** присылать пул ревесты на файлы, выложенные в `./export`.

## Скрипты

Написаны на **bat-posh** и исполняются в Windows XP/Vista/7 - из коробки.

- `images` - статические ресурсы
- `parts_include` - статические главы (вступление, заключение и т.д.)
- `export` - эл. книги в различных форматах, полученные с помощью [pandoc][l_pandoc]
- `00-masterpiece-run.bat`
- `book-docx-to-parts.bat` - превращает главы из `./docx` в главы `./parts`
- `book-join-parts.bat` - соединяет главы из `./parts` в книгу `./export/hpmor_ru.md`
- `book-export.bat` - экспортирует книгу `./hpmor_ru.md` из формата *markdown* в epub/fb2/html/docx средствами [pandoc][l_pandoc]
- `book-parts-to-feed.bat`
- `DocConvert.exe`, `DocumentFormat.OpenXml.dll`
- `book-parts-check.bat`

## Dataflow процесса сборки

![Процесс сборки](/images/process.png)

## RoadMap

- **Конвертор docx->md**
	- конвертация текста, выровненного вправо / по-центру
	- конвертация гиперссылок *@bug*
	- корректная конвертация таблиц *@option*
- **Общий стиль**
	- эпиграфы
	- формировать файл hpmor_ru_pd.md из hpmor_ru.md добавлением к нему 0 заглавие.md, и этот файл использовать для pandoc
- **Сайт [hpmor.ru](http://hpmor.ru/)**
	- скрипты загрузки данных по SSL

 [l_pandoc]: http://johnmacfarlane.net/pandoc/
